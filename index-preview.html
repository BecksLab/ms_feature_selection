<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.8.11">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <meta name="author" content="Tanya Strydom">
    <meta name="author" content="Andrew P. Beckerman">
    <meta name="dcterms.date" content="2025-05-23">
    <meta name="keywords" content="food web, structure, dimensionality reduction">

    <title>Finding the mjor descriptors of species networks</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.columns{display: flex; gap: min(4vw, 1.5em);}
      div.column{flex: auto; overflow-x: auto;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      ul.task-list li input[type="checkbox"] {
        width: 0.8em;
        margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
        vertical-align: middle;
      }
      /* CSS for syntax highlighting */
      html { -webkit-text-size-adjust: 100%; }
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
        }
      pre.numberSource { margin-left: 3em;  padding-left: 4px; }
      div.sourceCode
        {   }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      /* CSS for citations */
      div.csl-bib-body { }
      div.csl-entry {
        clear: both;
        margin-bottom: 0em;
      }
      .hanging-indent div.csl-entry {
        margin-left:2em;
        text-indent:-2em;
      }
      div.csl-left-margin {
        min-width:2em;
        float:left;
      }
      div.csl-right-inline {
        margin-left:2em;
        padding-left:1em;
      }
      div.csl-indent {
        margin-left: 2em;
      }    </style>

    <style>
      body.hypothesis-enabled #quarto-embed-header {
        padding-right: 36px;
      }

      #quarto-embed-header {
        height: 3em;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: solid 1px;
      }

      #quarto-embed-header h6 {
        font-size: 1.1em;
        padding-top: 0.6em;
        margin-left: 1em;
        margin-right: 1em;
        font-weight: 400;
      }

      #quarto-embed-header a.quarto-back-link,
      #quarto-embed-header a.quarto-download-embed {
        font-size: 0.8em;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 1em;
        margin-right: 1em;
      }

      .quarto-back-container {
        padding-left: 0.5em;
        display: flex;
      }

      .headroom {
          will-change: transform;
          transition: transform 200ms linear;
      }

      .headroom--pinned {
          transform: translateY(0%);
      }

      .headroom--unpinned {
          transform: translateY(-100%);
      }      
    </style>

    <script>
    window.document.addEventListener("DOMContentLoaded", function () {

      var header = window.document.querySelector("#quarto-embed-header");
      const titleBannerEl = window.document.querySelector("body > #title-block-header");
      if (titleBannerEl) {
        titleBannerEl.style.paddingTop = header.clientHeight + "px";
      }
      const contentEl = window.document.getElementById('quarto-content');
      for (const child of contentEl.children) {
        child.style.paddingTop = header.clientHeight + "px";
        child.style.marginTop = "1em";
      }

      // Use the article root if the `back` call doesn't work. This isn't perfect
      // but should typically work
      window.quartoBackToArticle = () => {
        var currentUrl = window.location.href;
        window.history.back();
        setTimeout(() => {
            // if location was not changed in 100 ms, then there is no history back
            if(currentUrl === window.location.href){              
                // redirect to site root
                window.location.href = "index.html";
            }
        }, 100);
      }

      const headroom = new window.Headroom(header, {
        tolerance: 5,
        onPin: function () {
        },
        onUnpin: function () {
        },
      });
      headroom.init();
    });
    </script>

    
<script src="site_libs/manuscript-notebook/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-09b140d2d032adf2aedb8b099be3ee13.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-4f15e34fd272a5a1117e5e78c98d3e39.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
     <script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>   <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script> 
      <meta name="citation_title" content="Finding the mjor descriptors of species networks">
<meta name="citation_abstract" content="TODO
">
<meta name="citation_keywords" content="food web,structure,dimensionality reduction">
<meta name="citation_author" content="Tanya Strydom">
<meta name="citation_author" content="Andrew P. Beckerman">
<meta name="citation_publication_date" content="2025-05-23">
<meta name="citation_cover_date" content="2025-05-23">
<meta name="citation_year" content="2025">
<meta name="citation_online_date" content="2025-05-23">
<meta name="citation_language" content="en">
<meta name="citation_reference" content="citation_title=What Do Interaction Network Metrics Tell Us About Specialization and Biological Traits;,citation_abstract=The structure of ecological interaction networks is often interpreted as a product of meaningful ecological and evolutionary mechanisms that shape the degree of specialization in community associations. However, here we show that both unweighted network metrics (connectance, nestedness, and degree distribution) and weighted network metrics (interaction evenness, interaction strength asymmetry) are strongly constrained and biased by the number of observations. Rarely observed species are inevitably regarded as “specialists,” irrespective of their actual associations, leading to biased estimates of specialization. Consequently, a skewed distribution of species observation records (such as the lognormal), combined with a relatively low sampling density typical for ecological data, already generates a “nested” and poorly “connected” network with “asymmetric interaction strengths” when interactions are neutral. This is confirmed by null model simulations of bipartite networks, assuming that partners associate randomly in the absence of any specialization and any variation in the correspondence of biological traits between associated species (trait matching). Variation in the skewness of the frequency distribution fundamentally changes the outcome of network metrics. Therefore, interpretation of network metrics in terms of fundamental specialization and trait matching requires an appropriate control for such severe constraints imposed by information deficits. When using an alternative approach that controls for these effects, most natural networks of mutualistic or antagonistic systems show a significantly higher degree of reciprocal specialization (exclusiveness) than expected under neutral conditions. A higher exclusiveness is coherent with a tighter coevolution and suggests a lower ecological redundancy than implied by nested networks.;,citation_author=Nico Blüthgen;,citation_author=Jochen Fründ;,citation_author=Diego P. Vázquez;,citation_author=Florian Menzel;,citation_publication_date=2008;,citation_cover_date=2008;,citation_year=2008;,citation_issue=12;,citation_doi=10.1890/07-2121.1;,citation_issn=1939-9170;,citation_volume=89;,citation_language=en-US;,citation_journal_title=Ecology;">
<meta name="citation_reference" content="citation_title=Latitudinal gradients in biotic niche breadth vary across ecosystem types;,citation_abstract=Several properties of food webs—the networks of feeding links between species—are known to vary systematically with the species richness of the underlying community. Under the ’latitude–niche breadth hypothesis’, which predicts that species in the tropics will tend to evolve narrower niches, one might expect that these scaling relationships could also be affected by latitude. To test this hypothesis, we analysed the scaling relationships between species richness and average generality, vulnerability and links per species across a set of 196 empirical food webs. In estuarine, marine and terrestrial food webs there was no effect of latitude on any scaling relationship, suggesting constant niche breadth in these habitats. In freshwater communities, on the other hand, there were strong effects of latitude on scaling relationships, supporting the latitude–niche breadth hypothesis. These contrasting findings indicate that it may be more important to account for habitat than latitude when exploring gradients in food-web structure.;,citation_author=Alyssa R. Cirtwill;,citation_author=Daniel B. Stouffer;,citation_author=Tamara N. Romanuk;,citation_publication_date=2015;,citation_cover_date=2015;,citation_year=2015;,citation_fulltext_html_url=https://www.jstor.org/stable/24761314;,citation_issue=1819;,citation_issn=0962-8452;,citation_volume=282;,citation_journal_title=Proceedings: Biological Sciences;,citation_publisher=Royal Society;">
<meta name="citation_reference" content="citation_title=Analysing ecological networks of species interactions;,citation_abstract=Network approaches to ecological questions have been increasingly used, particularly in recent decades. The abstraction of ecological systems – such as communities – through networks of interactions between their components indeed provides a way to summarize this information with single objects. The methodological framework derived from graph theory also provides numerous approaches and measures to analyze these objects and can offer new perspectives on established ecological theories as well as tools to address new challenges. However, prior to using these methods to test ecological hypotheses, it is necessary that we understand, adapt, and use them in ways that both allow us to deliver their full potential and account for their limitations. Here, we attempt to increase the accessibility of network approaches by providing a review of the tools that have been developed so far, with – what we believe to be – their appropriate uses and potential limitations. This is not an exhaustive review of all methods and metrics, but rather, an overview of tools that are robust, informative, and ecologically sound. After providing a brief presentation of species interaction networks and how to build them in order to summarize ecological information of different types, we then classify methods and metrics by the types of ecological questions that they can be used to answer from global to local scales, including methods for hypothesis testing and future perspectives. Specifically, we show how the organization of species interactions in a community yields different network structures (e.g., more or less dense, modular or nested), how different measures can be used to describe and quantify these emerging structures, and how to compare communities based on these differences in structures. Within networks, we illustrate metrics that can be used to describe and compare the functional and dynamic roles of species based on their position in the network and the organization of their interactions as well as associated new methods to test the significance of these results. Lastly, we describe potential fruitful avenues for new methodological developments to address novel ecological questions.;,citation_author=Eva Delmas;,citation_author=Mathilde Besson;,citation_author=Marie-Hélène Brice;,citation_author=Laura A. Burkle;,citation_author=Giulio V. Dalla Riva;,citation_author=Marie-Josée Fortin;,citation_author=Dominique Gravel;,citation_author=Paulo R. Guimarães;,citation_author=David H. Hembry;,citation_author=Erica A. Newman;,citation_author=Jens M. Olesen;,citation_author=Mathias M. Pires;,citation_author=Justin D. Yeakel;,citation_author=Timothée Poisot;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_issue=1;,citation_doi=10.1111/brv.12433;,citation_issn=1469-185X;,citation_volume=94;,citation_language=en-US;,citation_journal_title=Biological Reviews;">
<meta name="citation_reference" content="citation_title=Food-web structure varies along environmental gradients in a high-latitude marine ecosystem;,citation_abstract=Large-scale patterns in species diversity and community composition are associated with environmental gradients, but the implications of these patterns for food-web structure are still unclear. Here, we investigated how spatial patterns in food-web structure are associated with environmental gradients in the Barents Sea, a highly productive shelf sea of the Arctic Ocean. We compared food webs from 25 subregions in the Barents Sea and examined spatial correlations among food-web metrics, and between metrics and spatial variability in seawater temperature, bottom depth and number of days with ice cover. Several food-web metrics were positively associated with seawater temperature: connectance, level of omnivory, clustering, cannibalism, and high variability in generalism, while other food-web metrics such as modularity and vulnerability were positively associated with sea ice and negatively with temperature. Food-web metrics positively associated with habitat heterogeneity were: number of species, link density, omnivory, path length, and trophic level. This finding suggests that habitat heterogeneity promotes food-web complexity in terms of number of species and link density. Our analyses reveal that spatial variation in food-web structure along the environmental gradients is partly related to species turnover. However, the higher interaction turnover compared to species turnover along these gradients indicates a consistent modification of food-web structure, implying that interacting species may co-vary in space. In conclusion, our study shows how environmental heterogeneity, via environmental filtering, influences not only turnover in species composition, but also the structure of food webs over large spatial scales.;,citation_author=Susanne Kortsch;,citation_author=Raul Primicerio;,citation_author=Michaela Aschan;,citation_author=Sigrid Lind;,citation_author=Andrey V. Dolgov;,citation_author=Benjamin Planque;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_issue=2;,citation_doi=10.1111/ecog.03443;,citation_issn=1600-0587;,citation_volume=42;,citation_language=en-US;,citation_journal_title=Ecography;">
<meta name="citation_reference" content="citation_title=Ecological network metrics: Opportunities for synthesis;,citation_abstract=Network ecology provides a systems basis for approaching ecological questions, such as factors that influence biological diversity, the role of particular species or particular traits in structuring ecosystems, and long-term ecological dynamics (e.g., stability). Whereas the introduction of network theory has enabled ecologists to quantify not only the degree, but also the architecture of ecological complexity, these advances have come at the cost of introducing new challenges, including new theoretical concepts and metrics, and increased data complexity and computational intensity. Synthesizing recent developments in the network ecology literature, we point to several potential solutions to these issues: integrating network metrics and their terminology across sub-disciplines; benchmarking new network algorithms and models to increase mechanistic understanding; and improving tools for sharing ecological network research, in particular “model” data provenance, to increase the reproducibility of network models and analyses. We propose that applying these solutions will aid in synthesizing ecological sub-disciplines and allied fields by improving the accessibility of network methods and models.;,citation_author=Matthew K. Lau;,citation_author=Stuart R. Borrett;,citation_author=Benjamin Baiser;,citation_author=Nicholas J. Gotelli;,citation_author=Aaron M. Ellison;,citation_publication_date=2017;,citation_cover_date=2017;,citation_year=2017;,citation_issue=8;,citation_doi=10.1002/ecs2.1900;,citation_issn=2150-8925;,citation_volume=8;,citation_language=en-US;,citation_journal_title=Ecosphere;">
<meta name="citation_reference" content="citation_title=Geographical variation of multiplex ecological networks in marine intertidal communities;,citation_abstract=Understanding the drivers of geographical variation in species distributions, and the resulting community structure, constitutes one of the grandest challenges in ecology. Geographical patterns of species richness and composition have been relatively well studied. Less is known about how the entire set of trophic and non-trophic ecological interactions, and the complex networks that they create by gluing species together in complex communities, change across geographical extents. Here, we compiled data of species composition and three types of ecological interactions occurring between species in rocky intertidal communities across a large spatial extent (~970 km of shoreline) of central Chile, and analyzed the geographical variability in these multiplex networks (i.e., comprising several interaction types) of ecological interactions. We calculated nine network summary statistics common across interaction types, and additional network attributes specific to each of the different types of interactions. We then investigated potential environmental drivers of this multivariate network organization. These included variation in sea surface temperature and coastal upwelling, the main drivers of productivity in nearshore waters. Our results suggest that structural properties of multiplex ecological networks are affected by local species richness and modulated by factors influencing productivity and environmental predictability. Our results show that non-trophic negative interactions are more sensitive to spatially structured temporal environmental variation than feeding relationships, with non-trophic positive interactions being the least labile to it. We also show that environmental effects are partly mediated through changes in species richness and partly through direct influences on species interactions, probably associated to changes in environmental predictability and to bottom-up nutrient availability. Our findings highlight the need for a comprehensive picture of ecological interactions and their geographical variability if we are to predict potential effects of environmental changes on ecological communities.;,citation_author=Miguel Lurgi;,citation_author=Núria Galiana;,citation_author=Bernardo R. Broitman;,citation_author=Sonia Kéfi;,citation_author=Evie A. Wieters;,citation_author=Sergio A. Navarrete;,citation_publication_date=2020;,citation_cover_date=2020;,citation_year=2020;,citation_fulltext_html_url=https://www.jstor.org/stable/26998017;,citation_issue=11;,citation_issn=0012-9658;,citation_volume=101;,citation_journal_title=Ecology;,citation_publisher=[Wiley, Ecological Society of America];">
<meta name="citation_reference" content="citation_title=Network Motifs: Simple Building Blocks of Complex Networks;,citation_abstract=Complex networks are studied across many fields of science. To uncover their structural design principles, we defined “network motifs,” patterns of interconnections occurring in complex networks at numbers that are significantly higher than those in randomized networks. We found such motifs in networks from biochemistry, neurobiology, ecology, and engineering. The motifs shared by ecological food webs were distinct from the motifs shared by the genetic networks of Escherichia coli and Saccharomyces cerevisiae or from those found in the World Wide Web. Similar motifs were found in networks that perform information processing, even though they describe elements as different as biomolecules within a cell and synaptic connections between neurons in Caenorhabditis elegans. Motifs may thus define universal classes of networks. This approach may uncover the basic building blocks of most networks.;,citation_author=R. Milo;,citation_author=S. Shen-Orr;,citation_author=S. Itzkovitz;,citation_author=N. Kashtan;,citation_author=D. Chklovskii;,citation_author=U. Alon;,citation_publication_date=2002-10;,citation_cover_date=2002-10;,citation_year=2002;,citation_issue=5594;,citation_doi=10.1126/science.298.5594.824;,citation_volume=298;,citation_journal_title=Science;,citation_publisher=American Association for the Advancement of Science;">
<meta name="citation_reference" content="citation_title=Exploring the temporal variability of a food web using long-term biomonitoring data;,citation_abstract=Ecological communities are constantly being reshaped in the face of environmental change and anthropogenic pressures. Yet, how food webs change over time remains poorly understood. Food web science is characterized by a trade-off between complexity (in terms of the number of species and feeding links) and dynamics. Topological analysis can use complex, highly resolved empirical food web models to explore the architecture of feeding interactions but is limited to a static view, whereas ecosystem models can be dynamic but use highly aggregated food webs. Here, we explore the temporal dynamics of a highly resolved empirical food web over a time period of 18 years, using the German Bight fish and benthic epifauna community as our case study. We relied on long-term monitoring ecosystem surveys (from 1998 to 2015) to build a metaweb, i.e. the meta food web containing all species recorded over the time span of our study. We then combined time series of species abundances with topological network analysis to construct annual food web snapshots. We developed a new approach, “node-weighted” food web metrics by including species abundances to represent the temporal dynamics of food web structure, focusing on generality and vulnerability. Our results suggest that structural food web properties change through time; however, binary food web structural properties may not be as temporally variable as the underlying changes in species composition. Further, the node-weighted metrics enabled us to detect that food web structure was influenced by changes in species composition during the first half of the time series and more strongly by changes in species dominance during the second half. Our results demonstrate how ecosystem surveys can be used to monitor temporal changes in food web structure, which are important ecosystem indicators for building marine management and conservation plans.;,citation_author=Pierre Olivier;,citation_author=Romain Frelat;,citation_author=Erik Bonsdorff;,citation_author=Susanne Kortsch;,citation_author=Ingrid Kröncke;,citation_author=Christian Möllmann;,citation_author=Hermann Neumann;,citation_author=Anne F. Sell;,citation_author=Marie C. Nordström;,citation_publication_date=2019;,citation_cover_date=2019;,citation_year=2019;,citation_issue=12;,citation_doi=10.1111/ecog.04461;,citation_issn=1600-0587;,citation_volume=42;,citation_language=en-US;,citation_journal_title=Ecography;">
<meta name="citation_reference" content="citation_title=The ghost of nestedness in ecological networks;,citation_author=Phillip P. A. Staniczenko;,citation_author=Jason C. Kopp;,citation_author=Stefano Allesina;,citation_publication_date=2013-06;,citation_cover_date=2013-06;,citation_year=2013;,citation_issue=1;,citation_doi=10.1038/ncomms2422;,citation_issn=2041-1723;,citation_volume=4;,citation_language=en-US;,citation_journal_title=Nature Communications;">
<meta name="citation_reference" content="citation_title=Evidence for the existence of a robust pattern of prey selection in food webs;,citation_abstract=Food webs aim to provide a thorough representation of the trophic interactions found in an ecosystem. The complexity of empirical food webs, however, is leading many ecologists to focus dynamic ecosystem studies on smaller microcosm or mesocosm studies based upon community modules, which comprise three to five species and the interactions likely to have ecological relevance. We provide here a structural counterpart to community modules. We investigate food-web “motifs” which are n-species connected subgraphs found within the food web. Remarkably, we find that the over- and under-representation of three-species motifs in empirical food webs can be understood through comparison to a static food-web model, the niche model. Our result conclusively demonstrates that predation upon species with some “characteristic” niche value is the prey selection mechanism consistent with the structural properties of empirical food webs.;,citation_author=Daniel B Stouffer;,citation_author=Juan Camacho;,citation_author=Wenxin Jiang;,citation_author=Luís A Nunes Amaral;,citation_publication_date=2007-06;,citation_cover_date=2007-06;,citation_year=2007;,citation_issue=1621;,citation_doi=10.1098/rspb.2007.0571;,citation_volume=274;,citation_journal_title=Proceedings of the Royal Society B: Biological Sciences;,citation_publisher=Royal Society;">
<meta name="citation_reference" content="citation_title=A robust measure of food web intervality;,citation_abstract=Intervality of a food web is related to the number of trophic dimensions characterizing the niches in a community. We introduce here a mathematically robust measure for food web intervality. It has previously been noted that empirical food webs are not strictly interval; however, upon comparison to suitable null hypotheses, we conclude that empirical food webs actually do exhibit a strong bias toward contiguity of prey, that is, toward intervality. Further, our results strongly suggest that empirically observed species and their diets can be mapped onto a single dimension. This finding validates a critical assumption in the recently proposed static niche model and provides guidance for ongoing efforts to develop dynamic models of ecosystems.;,citation_author=Daniel B. Stouffer;,citation_author=Juan Camacho;,citation_author=Luís A. Nunes Amaral;,citation_publication_date=2006-12;,citation_cover_date=2006-12;,citation_year=2006;,citation_issue=50;,citation_doi=10.1073/pnas.0603844103;,citation_issn=0027-8424, 1091-6490;,citation_volume=103;,citation_language=en-US;,citation_journal_title=Proceedings of the National Academy of Sciences;">
<meta name="citation_reference" content="citation_title=SVD Entropy Reveals the High Complexity of Ecological Networks;,citation_abstract=Quantifying the complexity of ecological networks has remained elusive. Primarily, complexity has been defined on the basis of the structural (or behavioural) complexity of the system. These definitions ignore the notion of ’physical complexity’, which can measure the amount of information contained in an ecological network, and how difficult it would be to compress. We present relative rank deficiency and SVD entropy as measures of ’external’ and ’internal’ complexity respectively. Using bipartite ecological networks, we find that they all show a very high, almost maximal, physical complexity. Pollination networks, in particular, are more complex when compared to other types of interactions. In addition, we find that SVD entropy relates to other structural measures of complexity (nestedness, connectance, and spectral radius), but does not inform about the resilience of a network when using simulated extinction cascades, which has previously been reported for structural measures of complexity. We argue that SVD entropy provides a fundamentally more ’correct’ measure of network complexity and should be added to the toolkit of descriptors of ecological networks moving forward.;,citation_author=Tanya Strydom;,citation_author=Giulio V. Dalla Riva;,citation_author=Timothée Poisot;,citation_publication_date=2021;,citation_cover_date=2021;,citation_year=2021;,citation_doi=10.3389/fevo.2021.623141;,citation_issn=2296-701X;,citation_volume=9;,citation_language=en-US;,citation_journal_title=Frontiers in Ecology and Evolution;,citation_publisher=Frontiers;">
<meta name="citation_reference" content="citation_title=Major dimensions in food-web structure properties;,citation_abstract=The covariance among a range of 20 network structural properties of food webs plus net primary productivity was assessed for 14 published food webs using principal components analysis. Three primary components explained 84% of the variability in the data sets, suggesting substantial covariance among the properties employed in the literature. The first dimension explained 48% of the variance and could be ascribed to connectance, covarying significantly with the proportion of intermediate species and characteristic path length. The second dimension explained 19% and was related to trophic species richness. The third axis explained 17% and was related to ecosystem net primary productivity. A distinct opposite clustering of connectance, the proportion of intermediate species, and mean trophic level vs. the proportion of top and basal species and path length suggests a dichotomy in food-web structure. Food webs appear either clustered and highly interconnected or elongated with fewer links.;,citation_author=Jan E. Vermaat;,citation_author=Jennifer A. Dunne;,citation_author=Alison J. Gilbert;,citation_publication_date=2009;,citation_cover_date=2009;,citation_year=2009;,citation_issue=1;,citation_doi=10.1890/07-0978.1;,citation_issn=1939-9170;,citation_volume=90;,citation_language=en-US;,citation_journal_title=Ecology;">
<meta name="citation_reference" content="citation_title=Limits to Trophic Levels and Omnivory in Complex Food Webs: Theory and Data;,citation_abstract=While trophic levels have found broad application throughout ecology, they are also in much contention on analytical and empirical grounds. Here, we use a new generation of data and theory to examine long-standing questions about trophic-level limits and degrees of omnivory. The data include food webs of the Chesapeake Bay, U.S.A., the island of Saint Martin, a U.K. grassland, and a Florida seagrass community, which appear to be the most trophically complete food webs available in the primary literature due to their inclusion of autotrophs and empirically derived estimates of the relative energetic contributions of each trophic link. We show that most (54%) of the 212 species in the four food webs can be unambiguously assigned to a discrete trophic level. Omnivory among the remaining species appears to be quite limited, as judged by the standard deviation of omnivores’ energy-weighted food-chain lengths. This allows simple algorithms based on binary food webs without energetic details to yield surprisingly accurate estimates of species’ trophic and omnivory levels. While maximum trophic levels may plausibly exceed historically asserted limits, our analyses contradict both recent empirical claims that these limits are exceeded and recent theoretical claims that rampant omnivory eliminates the scientific utility of the trophic-level concept.;,citation_author=Richard J. Williams;,citation_author=Neo D. Martinez;,citation_publication_date=2004-03;,citation_cover_date=2004-03;,citation_year=2004;,citation_issue=3;,citation_doi=10.1086/381964;,citation_issn=0003-0147, 1537-5323;,citation_volume=163;,citation_language=en-US;,citation_journal_title=The American Naturalist;">
<meta name="citation_reference" content="citation_title=Success and its limits among structural models of complex food webs;,citation_abstract=1. Following the development of the relatively successful niche model, several other simple structural food web models have been proposed. These models predict the detailed structure of complex food webs given only two input parameters, the numbers of species and the number of feeding links among them. 2. The models claim different degrees of success but have not been compared consistently with each other or with the empirical data. We compared the performance of five structural models rigorously against 10 empirical food webs from a variety of aquatic and terrestrial habitats containing 25-92 species and 68-997 links. 3. All models include near-hierarchical ordering of species’ consumption and have identical distributions of the number of prey of each consumer species, but differ in the extent to which species’ diets are required to be contiguous and the rules used to assign feeding links. 4. The models perform similarly on a range of food-web properties, including the fraction of top, intermediate and basal species, the standard deviations of generality and connectivity and the fraction of herbivores and omnivores. 5. For other properties, including the standard deviation of vulnerability, the fraction of cannibals and species in loops, mean trophic level, path length, clustering coefficient, maximum similarity and diet discontinuity, there are significant differences in the performance of the different models. 6. While the empirical data do not support the niche model’s assumption of diet contiguity, models which relax this assumption all have worse overall performance than the niche model. All the models under-estimate severely the fraction of species that are herbivores and exhibit other important failures that need to be addressed in future research.;,citation_author=Richard J. Williams;,citation_author=Neo D. Martinez;,citation_publication_date=2008-05;,citation_cover_date=2008-05;,citation_year=2008;,citation_issue=3;,citation_doi=10.1111/j.1365-2656.2008.01362.x;,citation_issn=1365-2656;,citation_pmid=18284474;,citation_volume=77;,citation_language=en-US;,citation_journal_title=The Journal of Animal Ecology;">
<meta name="citation_reference" content="citation_title=Linking structure and function in food webs: Maximization of different ecological functions generates distinct food web structures;,citation_abstract=1. Trophic interactions are central to ecosystem functioning, but the link between food web structure and ecosystem functioning remains obscure. Regularities (i.e. consistent patterns) in food web structure suggest the possibility of regularities in ecosystem functioning, which might be used to relate structure to function. 2. We introduce a novel, genetic algorithm approach to simulate food webs with maximized throughput (a proxy for ecosystem functioning) and compare the structure of these simulated food webs to real empirical food webs using common metrics of food web structure. We repeat this analysis using robustness to secondary extinctions (a proxy for ecosystem resilience) instead of throughput to determine the relative contributions of ecosystem functioning and ecosystem resilience to food web structure. 3. Simulated food webs that maximized robustness were similar to real food webs when connectance (i.e. levels of interaction across the food web) was high, but this result did not extend to food webs with low connectance. Simulated food webs that maximized throughput or a combination of throughput and robustness were not similar to any real food webs. 4. Simulated maximum-throughput food webs differed markedly from maximum-robustness food webs, which suggests that maximizing different ecological functions can generate distinct food web structures. Based on our results, food web structure would appear to have a stronger relationship with ecosystem resilience than with ecosystem throughput. 5. Our genetic algorithm approach is general and is well suited to large, realistically complex food webs. Genetic algorithms can incorporate constraints on structure and can generate outputs that can be compared directly to empirical data. Our method can be used to explore a range of maximization or minimization hypotheses, providing new perspectives on the links between structure and function in ecological systems.;,citation_author=Jian D. L. Yen;,citation_author=Reniel B. Cabral;,citation_author=Mauricio Cantor;,citation_author=Ian Hatton;,citation_author=Susanne Kortsch;,citation_author=Joana Patrício;,citation_author=Masato Yamamichi;,citation_publication_date=2016;,citation_cover_date=2016;,citation_year=2016;,citation_fulltext_html_url=https://www.jstor.org/stable/24701654;,citation_issue=2;,citation_issn=0021-8790;,citation_volume=85;,citation_journal_title=Journal of Animal Ecology;,citation_publisher=[Wiley, British Ecological Society];">
</head>

  <body class="quarto-notebook quarto-light">
    <div id="quarto-embed-header" class="headroom fixed-top bg-primary">
      
      <a onclick="window.quartoBackToArticle(); return false;" class="btn btn-primary quarto-back-link" href=""><i class="bi bi-caret-left"></i> Back to Article</a>
      <h6><i class="bi bi-journal-code"></i> Article Notebook</h6>

            <a href="./index.qmd" class="btn btn-primary quarto-download-embed" download="index.qmd">Download Source</a>
          </div>

     <header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Finding the mjor descriptors of species networks</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Authors</div>
          <div class="quarto-title-meta-heading">Affiliation</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Tanya Strydom <a href="mailto:t.strydom@sheffield.ac.uk" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0001-6067-1349" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        School of Biosciences, University of Sheffield, Sheffield, UK
                      </p>
                  </div>
                      <div class="quarto-title-meta-contents">
            <p class="author">Andrew P. Beckerman <a href="https://orcid.org/0000-0002-7859-8394" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        School of Biosciences, University of Sheffield, Sheffield, UK
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
                <div>
            <div class="quarto-title-meta-heading">Published</div>
            <div class="quarto-title-meta-contents">
              <p class="date">May 23, 2025</p>
            </div>
          </div>
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>

    <div>
      <div class="abstract">
        <div class="block-title">Abstract</div>
        <p>TODO</p>
      </div>
    </div>

    <div>
      <div class="keywords">
        <div class="block-title">Keywords</div>
        <p>food web, structure, dimensionality reduction</p>
      </div>
    </div>

    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#references" id="toc-references" class="nav-link active" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">      

       <p>Blah blah blah <span class="citation" data-cites="vermaatMajorDimensionsFoodweb2009">Vermaat, Dunne, and Gilbert (<a href="#ref-vermaatMajorDimensionsFoodweb2009" role="doc-biblioref">2009</a>)</span></p>
<p><em>“It is incumbent on network ecologists to establish clearly the independence and uniqueness of the descriptive metrics used.”</em> - <span class="citation" data-cites="lauEcologicalNetworkMetrics2017">Lau et al. (<a href="#ref-lauEcologicalNetworkMetrics2017" role="doc-biblioref">2017</a>)</span></p>
<div id="tbl-properties" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-properties-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: An informative caption about the different network properties
</figcaption>
<div aria-describedby="tbl-properties-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 21%">
<col style="width: 35%">
<col style="width: 21%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th>Label</th>
<th>Definition</th>
<th>“Function”</th>
<th>Reference (for maths), can make footnotes probs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Basal</td>
<td>Percentage of basal taxa, defined as species who have a vulnerability of zero</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Connectance</td>
<td><span class="math inline">\(L/S^2\)</span>, where <span class="math inline">\(S\)</span> is the number of species and <span class="math inline">\(L\)</span> the number of links</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Cannibal</td>
<td>Percentage of species that are cannibals</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>ChLen</td>
<td>Mean food chain length, averaged over all species (where a food chain is defined as a continuous path from a ‘basal’ to a ‘top’ species)</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>ChSD</td>
<td>Standard deviation of ChLen</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>ChNum</td>
<td>log number of food chains</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Clust</td>
<td>mean clustering coefficient (probability that two taxa linked to the same taxon are also linked)</td>
<td></td>
<td><strong>TODO</strong></td>
</tr>
<tr class="even">
<td>GenSD</td>
<td>Normalized standard deviation of generality of a species standardized by <span class="math inline">\(L/S\)</span></td>
<td></td>
<td><span class="citation" data-cites="williamsSuccessItsLimits2008a">Williams and Martinez (<a href="#ref-williamsSuccessItsLimits2008a" role="doc-biblioref">2008</a>)</span></td>
</tr>
<tr class="odd">
<td>Herbivore</td>
<td>Percentage of herbivores plus detritivores (taxa that feed only on basal taxa)</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Intermediate</td>
<td>Percentage of intermediate taxa (with both consumers and resources)</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>LinkSD</td>
<td>Normalized standard deviation of links (number of consumers plus resources per taxon)</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Loop</td>
<td>Percentage of taxa in loops (food chains in which a taxon occurs twice)</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>L/S</td>
<td>links per species</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>MaxSim</td>
<td>Mean of the maximum trophic similarity of each taxon to other taxa, the number of predators and prey shared by a pair of species divided by their total number of predators and prey</td>
<td></td>
<td><strong>TODO</strong></td>
</tr>
<tr class="odd">
<td>Omnivory</td>
<td>Percentage of omnivores (taxa that feed on <span class="math inline">\(\geq\)</span> 2 taxa with different trophic levels)</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Path</td>
<td>characteristic path length, the mean shortest food chain length between species pairs</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Richness</td>
<td>Number of nodes in the network</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>TL</td>
<td>Prey-weighted trophic level averaged across taxa</td>
<td></td>
<td><span class="citation" data-cites="williamsLimitsTrophicLevels2004">Williams and Martinez (<a href="#ref-williamsLimitsTrophicLevels2004" role="doc-biblioref">2004</a>)</span></td>
</tr>
<tr class="odd">
<td>Top</td>
<td>Percentage of top taxa (taxa without consumers)</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>VulSD</td>
<td>Normalized standard deviation of vulnerability of a species standardized by <span class="math inline">\(L/S\)</span></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Links</td>
<td>The number of links in the network</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Diameter</td>
<td>Diameter can also be measured as the average of the distances between each pair of nodes in the network</td>
<td></td>
<td><span class="citation" data-cites="delmasAnalysingEcologicalNetworks2019">Delmas et al. (<a href="#ref-delmasAnalysingEcologicalNetworks2019" role="doc-biblioref">2019</a>)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\rho\)</span></td>
<td>Spectral radius is a a conceptual analog to nestedness (and more appropriate for unipartite networks). It is defined as the absolute value of the largest real part of the eigenvalues of the <em>undirected</em> adjacency matrix</td>
<td></td>
<td><span class="citation" data-cites="staniczenkoGhostNestednessEcological2013">Staniczenko, Kopp, and Allesina (<a href="#ref-staniczenkoGhostNestednessEcological2013" role="doc-biblioref">2013</a>)</span></td>
</tr>
<tr class="even">
<td>Complexity</td>
<td>SVD complexity of a network, defined as the Pielou entropy of its singular values</td>
<td>Something about structural v behavioural complexity being captured</td>
<td><span class="citation" data-cites="strydomSVDEntropyReveals2021">Strydom, Dalla Riva, and Poisot (<a href="#ref-strydomSVDEntropyReveals2021" role="doc-biblioref">2021</a>)</span></td>
</tr>
<tr class="odd">
<td>Centrality</td>
<td>Centrality is a measure of how ‘influential’ a species is, under various definitions of ‘influence’…</td>
<td>Centrality can help in quantifying the importance of species in a network</td>
<td></td>
</tr>
<tr class="even">
<td>S1</td>
<td>Number of linear chains</td>
<td></td>
<td><span class="citation" data-cites="stoufferEvidenceExistenceRobust2007">Daniel B. Stouffer et al. (<a href="#ref-stoufferEvidenceExistenceRobust2007" role="doc-biblioref">2007</a>)</span> <span class="citation" data-cites="miloNetworkMotifsSimple2002">Milo et al. (<a href="#ref-miloNetworkMotifsSimple2002" role="doc-biblioref">2002</a>)</span></td>
</tr>
<tr class="odd">
<td>S2</td>
<td>Number of omnivory motifs</td>
<td></td>
<td><span class="citation" data-cites="stoufferEvidenceExistenceRobust2007">Daniel B. Stouffer et al. (<a href="#ref-stoufferEvidenceExistenceRobust2007" role="doc-biblioref">2007</a>)</span> <span class="citation" data-cites="miloNetworkMotifsSimple2002">Milo et al. (<a href="#ref-miloNetworkMotifsSimple2002" role="doc-biblioref">2002</a>)</span></td>
</tr>
<tr class="even">
<td>S4</td>
<td>Number of apparent competition motifs</td>
<td></td>
<td><span class="citation" data-cites="stoufferEvidenceExistenceRobust2007">Daniel B. Stouffer et al. (<a href="#ref-stoufferEvidenceExistenceRobust2007" role="doc-biblioref">2007</a>)</span> <span class="citation" data-cites="miloNetworkMotifsSimple2002">Milo et al. (<a href="#ref-miloNetworkMotifsSimple2002" role="doc-biblioref">2002</a>)</span></td>
</tr>
<tr class="odd">
<td>S5</td>
<td>Number of direct competition motifs</td>
<td></td>
<td><span class="citation" data-cites="stoufferEvidenceExistenceRobust2007">Daniel B. Stouffer et al. (<a href="#ref-stoufferEvidenceExistenceRobust2007" role="doc-biblioref">2007</a>)</span> <span class="citation" data-cites="miloNetworkMotifsSimple2002">Milo et al. (<a href="#ref-miloNetworkMotifsSimple2002" role="doc-biblioref">2002</a>)</span></td>
</tr>
<tr class="even">
<td>Intervality</td>
<td></td>
<td></td>
<td><strong>TODO</strong> <span class="citation" data-cites="stoufferRobustMeasureFood2006a">Daniel B. Stouffer, Camacho, and Amaral (<a href="#ref-stoufferRobustMeasureFood2006a" role="doc-biblioref">2006</a>)</span></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div class="cell-container"><div class="cell-decorator"><pre>In [1]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">=</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"tables/vermaat_corr.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 19 Columns: 4
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (3): Property, PCA 1 (42%), PCA 2 (24%)
dbl (1): PCA 3 (11%)

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>

<div class="cell-container"><div class="cell-decorator"><pre>In [2]:</pre></div><div><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div><div id="tbl-corr" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-corr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Here is a table showing the correlation of the different network properties with the first three dimensions of the PCA
</figcaption>
<div aria-describedby="tbl-corr-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Property</th>
<th style="text-align: left;">PCA 1 (42%)</th>
<th style="text-align: left;">PCA 2 (24%)</th>
<th style="text-align: right;">PCA 3 (11%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">richness</td>
<td style="text-align: left;">0.63</td>
<td style="text-align: left;">0.49</td>
<td style="text-align: right;">0.18</td>
</tr>
<tr class="even">
<td style="text-align: left;">connectance</td>
<td style="text-align: left;">-0.92</td>
<td style="text-align: left;">-0.08</td>
<td style="text-align: right;">0.14</td>
</tr>
<tr class="odd">
<td style="text-align: left;">distance</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;"><strong>0.83</strong></td>
<td style="text-align: right;">0.29</td>
</tr>
<tr class="even">
<td style="text-align: left;">basal</td>
<td style="text-align: left;">0.47</td>
<td style="text-align: left;">-0.04</td>
<td style="text-align: right;">0.66</td>
</tr>
<tr class="odd">
<td style="text-align: left;">top</td>
<td style="text-align: left;"><strong>0.8</strong></td>
<td style="text-align: left;">-0.24</td>
<td style="text-align: right;">-0.50</td>
</tr>
<tr class="even">
<td style="text-align: left;">intermediate</td>
<td style="text-align: left;">-0.9</td>
<td style="text-align: left;">0.2</td>
<td style="text-align: right;">-0.10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">herbivory</td>
<td style="text-align: left;">0.64</td>
<td style="text-align: left;">-0.02</td>
<td style="text-align: right;">0.49</td>
</tr>
<tr class="even">
<td style="text-align: left;">omnivory</td>
<td style="text-align: left;">-0.88</td>
<td style="text-align: left;">0.29</td>
<td style="text-align: right;">-0.32</td>
</tr>
<tr class="odd">
<td style="text-align: left;">cannibal</td>
<td style="text-align: left;">-0.85</td>
<td style="text-align: left;">-0.12</td>
<td style="text-align: right;">0.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">l_S</td>
<td style="text-align: left;">-0.5</td>
<td style="text-align: left;">0.27</td>
<td style="text-align: right;">0.38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GenSD</td>
<td style="text-align: left;">0.64</td>
<td style="text-align: left;">0.18</td>
<td style="text-align: right;">0.59</td>
</tr>
<tr class="even">
<td style="text-align: left;">VulSD</td>
<td style="text-align: left;"><strong>0.86</strong></td>
<td style="text-align: left;">-0.14</td>
<td style="text-align: right;">-0.38</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TL</td>
<td style="text-align: left;">-0.25</td>
<td style="text-align: left;"><strong>0.86</strong></td>
<td style="text-align: right;">-0.09</td>
</tr>
<tr class="even">
<td style="text-align: left;">ChLen</td>
<td style="text-align: left;">0.45</td>
<td style="text-align: left;">0.61</td>
<td style="text-align: right;">0.06</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ChSD</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;"><strong>0.86</strong></td>
<td style="text-align: right;">-0.29</td>
</tr>
<tr class="even">
<td style="text-align: left;">ChNum</td>
<td style="text-align: left;"><strong>0.9</strong></td>
<td style="text-align: left;">0.02</td>
<td style="text-align: right;">-0.29</td>
</tr>
<tr class="odd">
<td style="text-align: left;">path</td>
<td style="text-align: left;">-0.04</td>
<td style="text-align: left;"><strong>0.92</strong></td>
<td style="text-align: right;">-0.17</td>
</tr>
<tr class="even">
<td style="text-align: left;">LinkSD</td>
<td style="text-align: left;"><strong>0.85</strong></td>
<td style="text-align: left;">0.17</td>
<td style="text-align: right;">-0.25</td>
</tr>
<tr class="odd">
<td style="text-align: left;">loops</td>
<td style="text-align: left;">0.17</td>
<td style="text-align: left;"><strong>0.79</strong></td>
<td style="text-align: right;">-0.08</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div></div></div>
</div></div>
<section id="references" class="level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-delmasAnalysingEcologicalNetworks2019" class="csl-entry" role="listitem">
Delmas, Eva, Mathilde Besson, Marie-Hélène Brice, Laura A. Burkle, Giulio V. Dalla Riva, Marie-Josée Fortin, Dominique Gravel, et al. 2019. <span>“Analysing Ecological Networks of Species Interactions.”</span> <em>Biological Reviews</em> 94 (1): 16–36. <a href="https://doi.org/10.1111/brv.12433">https://doi.org/10.1111/brv.12433</a>.
</div>
<div id="ref-lauEcologicalNetworkMetrics2017" class="csl-entry" role="listitem">
Lau, Matthew K., Stuart R. Borrett, Benjamin Baiser, Nicholas J. Gotelli, and Aaron M. Ellison. 2017. <span>“Ecological Network Metrics: Opportunities for Synthesis.”</span> <em>Ecosphere</em> 8 (8): e01900. <a href="https://doi.org/10.1002/ecs2.1900">https://doi.org/10.1002/ecs2.1900</a>.
</div>
<div id="ref-miloNetworkMotifsSimple2002" class="csl-entry" role="listitem">
Milo, R., S. Shen-Orr, S. Itzkovitz, N. Kashtan, D. Chklovskii, and U. Alon. 2002. <span>“Network <span>Motifs</span>: <span>Simple Building Blocks</span> of <span>Complex Networks</span>.”</span> <em>Science</em> 298 (5594): 824–27. <a href="https://doi.org/10.1126/science.298.5594.824">https://doi.org/10.1126/science.298.5594.824</a>.
</div>
<div id="ref-staniczenkoGhostNestednessEcological2013" class="csl-entry" role="listitem">
Staniczenko, Phillip P. A., Jason C. Kopp, and Stefano Allesina. 2013. <span>“The Ghost of Nestedness in Ecological Networks.”</span> <em>Nature Communications</em> 4 (1): 1391. <a href="https://doi.org/10.1038/ncomms2422">https://doi.org/10.1038/ncomms2422</a>.
</div>
<div id="ref-stoufferRobustMeasureFood2006a" class="csl-entry" role="listitem">
Stouffer, Daniel B., Juan Camacho, and Luís A. Nunes Amaral. 2006. <span>“A Robust Measure of Food Web Intervality.”</span> <em>Proceedings of the National Academy of Sciences</em> 103 (50): 19015–20. <a href="https://doi.org/10.1073/pnas.0603844103">https://doi.org/10.1073/pnas.0603844103</a>.
</div>
<div id="ref-stoufferEvidenceExistenceRobust2007" class="csl-entry" role="listitem">
Stouffer, Daniel B, Juan Camacho, Wenxin Jiang, and Luís A Nunes Amaral. 2007. <span>“Evidence for the Existence of a Robust Pattern of Prey Selection in Food Webs.”</span> <em>Proceedings of the Royal Society B: Biological Sciences</em> 274 (1621): 1931–40. <a href="https://doi.org/10.1098/rspb.2007.0571">https://doi.org/10.1098/rspb.2007.0571</a>.
</div>
<div id="ref-strydomSVDEntropyReveals2021" class="csl-entry" role="listitem">
Strydom, Tanya, Giulio V. Dalla Riva, and Timothée Poisot. 2021. <span>“<span>SVD Entropy Reveals</span> the <span>High Complexity</span> of <span>Ecological Networks</span>.”</span> <em>Frontiers in Ecology and Evolution</em> 9. <a href="https://doi.org/10.3389/fevo.2021.623141">https://doi.org/10.3389/fevo.2021.623141</a>.
</div>
<div id="ref-vermaatMajorDimensionsFoodweb2009" class="csl-entry" role="listitem">
Vermaat, Jan E., Jennifer A. Dunne, and Alison J. Gilbert. 2009. <span>“Major Dimensions in Food-Web Structure Properties.”</span> <em>Ecology</em> 90 (1): 278–82. <a href="https://doi.org/10.1890/07-0978.1">https://doi.org/10.1890/07-0978.1</a>.
</div>
<div id="ref-williamsLimitsTrophicLevels2004" class="csl-entry" role="listitem">
Williams, Richard J., and Neo D. Martinez. 2004. <span>“Limits to <span>Trophic Levels</span> and <span>Omnivory</span> in <span>Complex Food Webs</span>: <span>Theory</span> and <span>Data</span>.”</span> <em>The American Naturalist</em> 163 (3): 458–68. <a href="https://doi.org/10.1086/381964">https://doi.org/10.1086/381964</a>.
</div>
<div id="ref-williamsSuccessItsLimits2008a" class="csl-entry" role="listitem">
———. 2008. <span>“Success and Its Limits Among Structural Models of Complex Food Webs.”</span> <em>The Journal of Animal Ecology</em> 77 (3): 512–19. <a href="https://doi.org/10.1111/j.1365-2656.2008.01362.x">https://doi.org/10.1111/j.1365-2656.2008.01362.x</a>.
</div>
</div>
</section>
     </main>
<!-- /main column -->  <script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>  </div> <!-- /content --> 
  
</body></html>